<head>
    <title>GeoTIFFTileSource Demo</title>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/openseadragon/4.1.1/openseadragon.min.js"></script>

    <link rel="stylesheet" href="./demo.css">

    <script type="text/javascript" src="../dist/geotiff-tilesource.min.js"></script>
    <script type="module" src="./demo.js"></script>
 </head>
 <body>
     <div class="content">
         <div class="demo">
            <h2>GeoTIFFTileSource for OpenSeadragon</h2>
            <p>
                Source code can be found at the project <a href="https://github.com/pearcetm/GeoTIFFTileSource">GitHub Repository</a>.
                The GeoTIFFTileSource for <a href="https://openseadragon.github.io">OpenSeadragon</a> depends on <a href="https://geotiffjs.github.io/">GeoTIFF.js</a>.
            </p>
            <h3>View local or remote TIFF images - no image server required!</h3>

            <p>
                TIFF files range from small to gigantic. Larger files are often broken into multi-resolution pyramids to create zoomable images. This is useful
                for a variety of purposes, from whole-slide images (WSIs) of <a href="https://cancer.digitalslidearchive.org/#!/CDSA/acc/TCGA-OR-A5J1">digitized pathology slides</a>
                hosted using a tiled image server, to <a href="https://openlayers.org/en/latest/examples/cog.html">Cloud-Optimized GeoTIFF</a> files of satellite imagery.
            </p>
            <p>
                There are many TIFF formats, not all of which are GeoTIFF compatible. This applies to WSIs as well. For example, .svs files (from Leica Aperio)
                are fundamentally pyramidal GeoTIFFTileSource and can thus be viewed directly with low latency. However, .ndpi files (from Hamamatsu) are not
                internally organized in a way that geotiff.js can query efficiently, making slide viewing very slow at best.
            </p>
            <h3>Examples</h3>
            <ul>
                <li>
                    <h4>Local files</h4>
                    Demo files (whole slide histology images - WSIs) can be downloaded from the <a href="https://openslide.cs.cmu.edu/">OpenSlide</a> project.
                    Try downloading <a href="https://openslide.cs.cmu.edu/download/openslide-testdata/Aperio/CMU-1.svs">CMU-1.svs</a> and use the "Choose File"
                    button below to open it.
                </li>
                <li>
                    <h4>Remote files</h4>
                    Files hosted online on services like Amazon S3 can be viewed directly. Try the demonstration links below:
                    <ul>
                        <li>
                            <p><button class="demo-link" data-href="https://sentinel-cogs.s3.us-west-2.amazonaws.com/sentinel-s2-l2a-cogs/36/Q/WD/2020/7/S2A_36QWD_20200701_0_L2A/TCI.tif">Satellite data</button> from <a href="https://openlayers.org/en/latest/examples/cog.html">OpenLayers.org</a></p>
                        </li>
                        <li>
                            <p><button class="demo-link" data-href="https://oin-hotosm.s3.amazonaws.com/5a13582931eff4000c38060d/0/9c75cb72-e13a-4862-abe4-62058d5e108c.tif">Drone photos</button> from <a href="https://map.openaerialmap.org/#/-122.39500164985655,47.66504775985181,16/square/021230021/5a135953bac48e5b1c24c537">OpenAerialMap</a></p>
                        </li>
                    </ul>

                </li>
            </ul>

            <h3>Demo:</h3>
             <p>Pick a file. View the image using OpenSeadragon, and see detailed info about it below.</p>
            <div><input type='text' id="link-input" placeholder="Enter a link address for a TIFF file"><button id='use-link'>Load from link</button> or <input type='file' id="file-picker"></div>

             <div id="viewer" class="viewer"></div>
             <div>
                <div id="file-info">
                    <h2 id="filename">Please select an image file or link</h4>
                    <div id="associated-images" style="display:flex;flex-direction:row;"></div>
                    <h4>Image Description</h4>
                    <div id="image-description" class="image-details"></div>
                </div>
             </div>
         </div>
     </div>

 </body>